---
title: "Stock tracker"
logo: logo.png
format: dashboard
theme:
  - yeti
  - custom.scss
---

```{python}
#| tags: [parameters]

ticker = "BA"
```

```{python}
import helpers

data = helpers.get_data(ticker)
```

## Row {height=20%}

### Column {width=70%}

```{python}
#| component: valuebox
#| color: light
dict(value = ticker.upper())
```

### Column
```{python}
#| component: valuebox
#| icon: currency-dollar
#| title: "Current Price"
#| color: secondary
dict(value = helpers.get_price(data))
```

## Row

### Column {width=70%}
```{python}
helpers.make_candlestick_chart(data, ticker.upper())
```

### Column

#### Row {height=25%}

```{python}
#| component: valuebox
#| title: "Change"
change = helpers.get_change(data)
dict(
    value = change['amount'],
    icon = change['icon'],
    color = change['color']
) 
```

#### Row {height=25%}

```{python}
#| component: valuebox
#| title: "Percent Change"
#| color: light
#| icon: percent
dict(
    value = change['percent'],
) 
```

#### Row

```{python}
ohlc = helpers.make_OHLC_table(data)
```

| Date	 | `{python} ohlc['date']`   |
|:-------|--------------------------:|
| Open	 | `{python} ohlc['open']`   |
| High	 | `{python} ohlc['high']`   |
| Low	 | `{python} ohlc['low']`    |
| Close	 | `{python} ohlc['close']`  |
| Volume | `{python} ohlc['volume']` |